<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Add a Contract</title>
</head>
<script type = "text/javascript">

	function validate(){
		
		if(document.contractForm.title.value == ""){
			alert("Please enter the title of the contract.");
			document.contractForm.title.focus();
			return false;
		}
		
		if(document.contractForm.length.value == ""){
			alert("Please enter the length of the contract.");
			document.contractForm.length.focus();
			return false;
		}
		
		var numbers = /^[-+]?[0-9]+$/;
		if(!contractForm.manpower.value.match(numbers)){
			alert("Please enter number of workers as an integer number(0-9).");
			document.contractForm.manpower.focus();
			return false;
		}
			
			return ( true );
	}
	
</script>
<body>
<h1>Add a Contract</h1>
<form th:object="${newContract}" 
th:action="@{/updateContract/{id}(id=${newContract.id})}" method=POST name= "contractForm" onsubmit =  "return(validate());">>

Title: <input name="title" size="20" 
th:field="*{title}"><br />

Length: <input name="length" size="20" 
th:field="*{length}"><br />

Number of workers: <input name="manpower" size="20" 
th:field="*{manpower}"><br />

Author: <input disabled name="author" size="20" 
th:field="*{author}"><br />

Customer note box<br>
<TEXTAREA Name="notes" ROWS="5" COLS="50" th:field = "*{notes}"></TEXTAREA>
<br>

<input name="submit" type="submit" value="submit" />
</form>
<a href="viewContracts">View all Contracts</a><br>
<a href="index.html">Back to Homepage</a><br>
</body>
</html>